# ๐ก๏ธ ุฅุนุฏุงุฏ Cloudflare Turnstile (ุงุฎุชูุงุฑู)

## ูุง ูู Turnstileุ

Cloudflare Turnstile ูู ุจุฏูู ูุฌุงูู ูุตุฏูู ููุฎุตูุตูุฉ ูู reCAPTCHA. ูุญูู ุงูููุงุฐุฌ ูู ุงูุจุฑูุฏ ุงูุนุดูุงุฆู ูุงูุฑูุจูุชุงุช ุจุฏูู ุฅุฒุนุงุฌ ุงููุณุชุฎุฏููู.

## ุฎุทูุงุช ุงูุชูุนูู

### 1. ุฅูุดุงุก ูููุน Turnstile

1. ุงุฐูุจ ุฅูู [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. ุงุฎุชุฑ ุญุณุงุจู ูุงุฐูุจ ุฅูู "Turnstile"
3. ุงููุฑ ุนูู "Add Site"
4. ุฃุฏุฎู ูุนูููุงุช ุงููููุน:
   - **Site Name**: ุงุณู ูููุนู (ูุซู: "ูููุฐุฌ ุงูุชูููุน")
   - **Domain**: ูุทุงู ูููุนู (ูุซู: `example.com` ุฃู `localhost` ููุชุทููุฑ)
   - **Widget Mode**: ุงุฎุชุฑ "Managed"

### 2. ุงูุญุตูู ุนูู ุงูููุงุชูุญ

ุจุนุฏ ุฅูุดุงุก ุงููููุนุ ุณุชุญุตู ุนูู:
- **Site Key** (ููุชุงุญ ุนุงู): ูุณุชุฎุฏู ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- **Secret Key** (ููุชุงุญ ุณุฑู): ูุณุชุฎุฏู ูู ุงูุฎุงุฏู

### 3. ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช Worker

#### ุฃ. ูู `wrangler.toml`:
```toml
[vars]
# ... ุฅุนุฏุงุฏุงุช ุฃุฎุฑู
TURNSTILE_SECRET_KEY = "your_secret_key_here"
```

#### ุจ. ุฃู ุจุงุณุชุฎุฏุงู wrangler secrets:
```bash
npx wrangler secret put TURNSTILE_SECRET_KEY
# ุฃุฏุฎู ุงูููุชุงุญ ุงูุณุฑู ุนูุฏ ุงูุณุคุงู
```

### 4. ุชุญุฏูุซ ุงูููุงุฐุฌ

#### ููููุงุฐุฌ ุงููุถููุฉ (embed-code.js):
```javascript
FormCF.init('form-widget', 'https://your-worker.workers.dev', {
    language: 'ar',
    theme: 'light',
    turnstileSiteKey: 'your_site_key_here'  // ุฃุถู ูุฐุง ุงูุณุทุฑ
});
```

#### ููููุงุฐุฌ ุงูุจุณูุทุฉ (simple-form.html):
ุงุณุชุจุฏู `YOUR_TURNSTILE_SITE_KEY` ุจุงูููุชุงุญ ุงูุนุงู ุงูุฎุงุต ุจู:
```html
<div class="cf-turnstile" 
     data-sitekey="your_actual_site_key" 
     data-theme="light" 
     data-language="ar"></div>
```

## ุฎูุงุฑุงุช ุงูุชุฎุตูุต

### ุงูุซููุงุช ุงููุชุงุญุฉ:
- `light`: ุซูู ูุงุชุญ (ุงูุชุฑุงุถู)
- `dark`: ุซูู ุฏุงูู
- `auto`: ูุชููู ูุน ูุธุงู ุงููุณุชุฎุฏู

### ุงููุบุงุช ุงููุฏุนููุฉ:
- `ar`: ุงูุนุฑุจูุฉ
- `en`: ุงูุฅูุฌููุฒูุฉ
- `fr`: ุงููุฑูุณูุฉ
- ูุงููุฒูุฏ...

### ูุซุงู ูุชูุฏู:
```html
<div class="cf-turnstile" 
     data-sitekey="your_site_key"
     data-theme="auto"
     data-language="ar"
     data-size="compact"
     data-callback="onTurnstileSuccess"
     data-error-callback="onTurnstileError"></div>
```

## ุงุฎุชุจุงุฑ ุงูุชูุงูู

### 1. ุชุดุบูู ูุญูู:
```bash
npx wrangler dev
```

### 2. ุงุฎุชุจุงุฑ ุงููููุฐุฌ:
- ุงูุชุญ ุงููุชุตูุญ ุนูู `http://localhost:8787`
- ุงููุฃ ุงููููุฐุฌ
- ุชุฃูุฏ ูู ุธููุฑ Turnstile (ุฅุฐุง ูุงู ููุนู)
- ุฃุฑุณู ุงููููุฐุฌ

### 3. ูุญุต ุงูุณุฌูุงุช:
```bash
npx wrangler tail
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

#### 1. Turnstile ูุง ูุธูุฑ:
- ุชุฃูุฏ ูู ุตุญุฉ Site Key
- ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงููุทุงู ูู ุฅุนุฏุงุฏุงุช Turnstile
- ุชุฃูุฏ ูู ุชุญููู ุงูุณูุฑูุจุช: `https://challenges.cloudflare.com/turnstile/v0/api.js`

#### 2. ูุดู ุงูุชุญูู:
- ุชุฃูุฏ ูู ุตุญุฉ Secret Key ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- ุชุฃูุฏ ูู ุชุทุงุจู ุงููุทุงู
- ูุญุต ุณุฌูุงุช Worker ููุฃุฎุทุงุก

#### 3. ููุชุทููุฑ ุงููุญูู:
- ุฃุถู `localhost` ูู ุฅุนุฏุงุฏุงุช ุงููุทุงู ูู Turnstile
- ุฃู ุงุณุชุฎุฏู `127.0.0.1`

## ุฅุนุฏุงุฏุงุช ุงูุฃูุงู

### ุฃูุถู ุงูููุงุฑุณุงุช:
1. **ูุง ุชูุดู Secret Key ุฃุจุฏุงู** ูู ุงูููุฏ ุงูุฃูุงูู
2. ุงุณุชุฎุฏู `wrangler secret` ุจุฏูุงู ูู `wrangler.toml` ููุจูุฆุฉ ุงูุฅูุชุงุฌ
3. ูู ุจุชุญุฏูุฏ ุงููุทุงูุงุช ุงููุณููุญุฉ ุจุฏูุฉ
4. ุฑุงูุจ ูุญุงููุงุช ุงูุงุฎุชุฑุงู ูู ุฎูุงู ุณุฌูุงุช Cloudflare

### ูุซุงู ุฅุนุฏุงุฏ ุฅูุชุงุฌ ุขูู:
```bash
# ุฅุนุฏุงุฏ ุงูููุงุชูุญ ุจุดูู ุขูู
npx wrangler secret put TURNSTILE_SECRET_KEY --env production
npx wrangler secret put ENC_KEY_B64 --env production
npx wrangler secret put ADMIN_BEARER --env production
```

## ุงูุชูุงูู ุงูุงุฎุชูุงุฑู

ุงููุธุงู ูุนูู ุจุฏูู Turnstile ุฃูุถุงู! ุฅุฐุง ูู ุชุถุน ุงูููุงุชูุญุ ุณูุชู ุชุฌุงูู ุงูุชุญูู ูู Turnstile ูุงูุงุนุชูุงุฏ ุนูู ุงูุทุฑู ุงูุฃุฎุฑู ูููุน ุงูุจุฑูุฏ ุงูุนุดูุงุฆู:

- ูุญุต ุนููุงู IP
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ููุน ุงูุชูุฑุงุฑ ุจููุณ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุฑุงุฌุน [ูุซุงุฆู Cloudflare Turnstile](https://developers.cloudflare.com/turnstile/)
2. ุชุฃูุฏ ูู ุชุญุฏูุซ Worker ุฅูู ุฃุญุฏุซ ุฅุตุฏุงุฑ
3. ูุญุต ุณุฌูุงุช ุงููุชุตูุญ ูุงูู Worker

---

๐ **ููุงุญุธุฉ**: Turnstile ูุฌุงูู ููุงุณุชุฎุฏุงู ูุน Cloudflare ูุฃูุซุฑ ุตุฏุงูุฉ ููุฎุตูุตูุฉ ูู ุงูุจุฏุงุฆู ุงูุฃุฎุฑู.